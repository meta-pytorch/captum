(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[0],{14:function(e,a,t){},15:function(e,a,t){},16:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(8),c=t.n(r),i=(t(14),t(6)),s=t(1),m=t(2),o=t(4),u=t(3),_=t(5);t(15);function d(e){return Object.keys(e).filter(function(a){return!!e[a]}).join(" ")}var p=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(_.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"header"},l.a.createElement("div",{className:"header__name"},"Captum Insights"),l.a.createElement("div",{className:"header__nav"},l.a.createElement("ul",null,l.a.createElement("li",{className:"header__nav__item header__nav__item--active"},"Instance Attribution"),l.a.createElement("li",{className:"header__nav__item"},"Direct Target"),l.a.createElement("li",{className:"header__nav__item"},"Export"))))}}]),a}(l.a.Component),v=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(u.a)(a).call(this,e))).handleInputChange=function(e){var a=e.target,n="checkbox"===a.type?a.checked:a.value,l=a.name;t.setState(Object(i.a)({},l,n))},t.handleSubmit=function(e){fetch("/fetch",{method:"POST",body:JSON.stringify(t.state)}).then(function(e){return e.json()}).then(function(e){return t.props.setData(e)}),e.preventDefault()},t.state={instance_type:"all",approximation_steps:50},t}return Object(_.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"filter-panel"},l.a.createElement("div",{className:"filter-panel__column"},l.a.createElement("div",{className:"filter-panel__column__title"},"Filter by Classes"),l.a.createElement("div",{className:"filter-panel__column__body"},"Animal and 2 other classes are selected. ",l.a.createElement("a",{href:""},"Edit"))),l.a.createElement("div",{className:"filter-panel__column"},l.a.createElement("div",{className:"filter-panel__column__title"},"Filter by Instances"),l.a.createElement("div",{className:"filter-panel__column__body"},"Instance Type:"," ",l.a.createElement("select",{className:"select",name:"instance_type",value:this.state.instance_type,onChange:this.handleInputChange},l.a.createElement("option",{value:"all"},"All"),l.a.createElement("option",{value:"false_negative"},"False Negative"),l.a.createElement("option",{value:"false_positive"},"False Positive")))),l.a.createElement("div",{className:"filter-panel__column"},l.a.createElement("div",{className:"filter-panel__column__title"},"Integrated Gradients"),l.a.createElement("div",{className:"filter-panel__column__body"},"Approximation steps:"," ",l.a.createElement("input",{className:"input",name:"approximation_steps",type:"number",value:this.state.approximation_steps,onChange:this.handleInputChange}))),l.a.createElement("div",{className:"filter-panel__column filter-panel__column--end"},l.a.createElement("button",{className:"btn btn--outline btn--large"},"Fetch"))))}}]),a}(l.a.Component);function b(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"panel__column__title"},e.feature.name," (Image)"),l.a.createElement("div",{className:"panel__column__body"},l.a.createElement("div",{className:"gallery"},l.a.createElement("div",{className:"gallery__item"},l.a.createElement("div",{className:"gallery__item__image"},l.a.createElement("img",{src:"data:image/png;base64,"+e.feature.base})),l.a.createElement("div",{className:"gallery__item__description"},"Original")),l.a.createElement("div",{className:"gallery__item"},l.a.createElement("div",{className:"gallery__item__image"},l.a.createElement("img",{src:"data:image/png;base64,"+e.feature.modified})),l.a.createElement("div",{className:"gallery__item__description"},"Gradient Overlay")))))}var E=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(_.a)(a,e),Object(m.a)(a,[{key:"_getColorClassName",value:function(e){return e>50?"bar-blue":e>10?"bar-light-blue":e>-10?"bar-gray":e>-50?"bar-light-red":"bar-red"}},{key:"render",value:function(){var e=this;return this.props.feature_outputs.map(function(a){return l.a.createElement("div",{className:"bar-chart__group"},l.a.createElement("div",{className:d(Object(i.a)({"bar-chart__group__bar":!0},e._getColorClassName(a.contribution),!0)),width:a.contribution+"%"}),l.a.createElement("div",{className:"bar-chart__group__title"},a.name))})}}]),a}(l.a.Component),f=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(_.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this.props.data,a=e.feature_outputs.map(function(e){return function(e){var a=null;switch(e.type){case"image":a=l.a.createElement(b,{feature:e});break;default:throw new Error("Unsupported feature visualization type: "+e.type)}return a}(e)});return l.a.createElement("div",{className:"panel panel--long"},l.a.createElement("div",{className:"panel__column"},l.a.createElement("div",{className:"panel__column__title"},"Predicted"),l.a.createElement("div",{className:"panel__column__body"},e.predicted.map(function(e,a){return l.a.createElement("div",{className:"row row--padding"},l.a.createElement("div",{className:d({btn:!0,"btn--solid":0===a,"btn--outline":0!==a})},e.label," (",e.score.toFixed(3),")"))}))),l.a.createElement("div",{className:"panel__column"},l.a.createElement("div",{className:"panel__column__title"},"Label"),l.a.createElement("div",{className:"panel__column__body"},l.a.createElement("div",{className:"row row--padding"},l.a.createElement("div",{className:"btn btn--outline"},e.actual)))),l.a.createElement("div",{className:"panel__column"},l.a.createElement("div",{className:"panel__column__title"},"Contribution"),l.a.createElement("div",{className:"panel__column__body"},l.a.createElement("div",{className:"bar-chart"},l.a.createElement(E,{feature_outputs:e.feature_outputs})))),l.a.createElement("div",{className:"panel__column panel__column--stretch"},a))}}]),a}(l.a.Component);function h(e){return e.data&&0!==e.data.length?l.a.createElement("div",{className:"viz"},e.data.map(function(e,a){return l.a.createElement(f,{data:e,key:a})})):l.a.createElement("div",{className:"viz"},l.a.createElement("div",{className:"panel"},l.a.createElement("div",{className:"filter-panel__column"},"Please press ",l.a.createElement("strong",null,"Fetch")," to start loading data.")))}var N=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(u.a)(a).call(this,e))).setData=function(e){return t.setState({data:e})},t.state={data:[]},t}return Object(_.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"app"},l.a.createElement(p,null),l.a.createElement(v,{setData:this.setData}),l.a.createElement(h,{data:this.state.data}))}}]),a}(l.a.Component);c.a.render(l.a.createElement(N,null),document.getElementById("root"))},9:function(e,a,t){e.exports=t(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.cbbb81d8.chunk.js.map